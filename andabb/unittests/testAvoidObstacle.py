import unittest

from andabb.AvoidObstacle import FuzzyAvoidObstacle


class FuzzyAvoidObstacleTest(unittest.TestCase):
    def testTurnRight(self):
        # reading = [2.0, 2.0, 0.8262460827827454, 0.7765557765960693, 0.7817856073379517, 0.8111905455589294, 2.0, 2.0]
        # reading = [2.0, 0.43701598048210144, 0.32800212502479553, 0.29767173528671265, 0.29861152172088623, 0.32163161039352417, 0.42007696628570557, 2.0]
        # reading = [2.0, 0.2909226417541504, 0.25831153988838196, 0.2611534595489502, 0.2805742621421814, 0.36760589480400085, 2.0,2.0]
        # reading = [2.0, 0.29345953464508057, 0.26922813057899475, 0.2705088257789612, 0.29806870222091675, 0.398640513420105, 2.0,2.0]
        # reading = [0.7238472700119019, 0.7422561645507812, 0.3097863793373108, 0.2443065047264099, 0.23612633347511292, 0.2363966852426529, 0.2830323278903961, 2.0]
        # reading = [0.379059761762619, 0.4930702745914459, 2.0, 2.0, 0.2985440194606781, 0.30469605326652527, 0.3858804702758789, 2.0]
        reading = [0.2571422755718231, 0.2862257957458496, 0.41958391666412354, 0.2205028235912323, 0.21826612949371338,
                   0.8722451329231262, 0.3613067865371704, 0.4254501461982727]
        reading = [2.0, 0.3580603003501892, 0.2976868152618408, 0.296857088804245, 0.2995471656322479, 0.36222541332244873, 2.0, 2.0]

        reading = [0.5366533398628235, 0.5586539506912231, 0.7684010863304138, 2.0, 0.3009985387325287, 0.30504101514816284, 0.3872925639152527, 2.0]

        reading = [2.0, 0.458448201417923, 0.3375987410545349, 0.29875847697257996, 0.3016211688518524, 0.3183436095714569, 0.42061927914619446, 2.0]

        reading = [2.0, 0.5253443121910095, 0.40065380930900574, 0.36684650182724, 0.36854779720306396, 0.39191094040870667, 0.5018325448036194, 2.0]

        ctr: FuzzyAvoidObstacle = FuzzyAvoidObstacle()

        print(ctr.compute(reading))

        for r in ctr.sensors:
            r.view(sim=ctr.sys)

        ctr.angularCsq.view(sim=ctr.sys)
        ctr.linearCsq.view(sim=ctr.sys)

        print("End")


if __name__ == '__main__':
    unittest.main()
